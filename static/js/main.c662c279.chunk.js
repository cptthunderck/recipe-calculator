(this["webpackJsonprecipe-calculator"]=this["webpackJsonprecipe-calculator"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),u=n(6),r=n.n(u),i=(n(11),n(4)),o=n(1),j=n(3),l=(n(12),n(0));var s=function(){var e=function(){var e=null,t=decodeURIComponent(document.location.hash.substr(1));try{e=JSON.parse(t)}catch(n){console.error(n)}return null===e&&(e={uid:0,volume:0,volumeUnits:"mL",massUnits:"g",liquids:{},solids:{},knownSolids:{}}),e}(),t=Object(c.useRef)(null),n=Object(c.useRef)(null),a=Object(c.useState)(e.volume),u=Object(j.a)(a,2),r=u[0],s=u[1],b=Object(c.useState)(e.volumeUnits),O=Object(j.a)(b,2),d=O[0],m=O[1],h=Object(c.useState)(e.massUnits),f=Object(j.a)(h,2),x=f[0],p=f[1],v=Object(c.useState)(e.uid),g=Object(j.a)(v,2),C=g[0],N=g[1],S=Object(c.useState)(e.liquids),F=Object(j.a)(S,2),U=F[0],y=F[1],V=Object(c.useState)(e.solids),k=Object(j.a)(V,2),_=k[0],w=k[1],A=Object(c.useState)(e.knownSolids),R=Object(j.a)(A,1)[0];document.location.hash=encodeURIComponent(JSON.stringify({uid:C,volume:r,volumeUnits:d,massUnits:x,liquids:U,solids:_,knownSolids:e.knownSolids}));var q=function(e,t){w((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(i.a)({},e,Object(o.a)(Object(o.a)({},n[e]),{},{name:t})))}))},L=function(e,t){w((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(i.a)({},e,Object(o.a)(Object(o.a)({},n[e]),{},{displacement:t})))}))},P=Object.entries(U).map((function(e){var t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(l.jsxs)("li",{children:[Object(l.jsx)("button",{onClick:function(){return function(e){delete U[e],y(Object(o.a)({},U))}(n)},children:"Remove"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"name_".concat(n),children:"Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{onChange:function(e){return function(e,t){y(Object(o.a)(Object(o.a)({},U),{},Object(i.a)({},e,Object(o.a)(Object(o.a)({},U[e]),{},{name:t}))))}(n,e.target.value)},defaultValue:c.name,id:"name_".concat(n),type:"text"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"amount_".concat(n),children:"Volume (%)"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{onChange:function(e){return function(e,t){y(Object(o.a)(Object(o.a)({},U),{},Object(i.a)({},e,Object(o.a)(Object(o.a)({},U[e]),{},{amount:t}))))}(n,e.target.valueAsNumber)},defaultValue:c.amount||"",id:"amount_".concat(n),type:"number"}),Object(l.jsx)("br",{})]},n)})),E=Object.entries(R).map((function(e){var t=Object(j.a)(e,2),n=t[0];t[1];return Object(l.jsx)("option",{value:n,children:n},n)})),I=Object.entries(_).map((function(e){var c=Object(j.a)(e,2),a=c[0],u=c[1];return Object(l.jsxs)("li",{children:[Object(l.jsx)("button",{onClick:function(){return function(e){delete _[e],w(Object(o.a)({},_))}(a)},children:"Remove"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"name_".concat(a),children:"Name"}),Object(l.jsx)("br",{}),Object(l.jsxs)("span",{style:{display:E.length>0?"default":"none"},children:[Object(l.jsx)("select",{onChange:function(e){return function(e,c){t.current.value=c,n.current.valueAsNumber=R[c],q(e,c),L(e,R[c])}(a,e.target.value)},children:E}),Object(l.jsx)("br",{})]}),Object(l.jsx)("input",{onChange:function(e){return q(a,e.target.value)},defaultValue:u.name,id:"name_".concat(a),type:"text",ref:t}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{htmlFor:"displacement_".concat(a),children:["Displacement (",d,"/",x,")"]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{onChange:function(e){return L(a,e.target.valueAsNumber)},defaultValue:u.displacement||"",id:"displacement_".concat(a),type:"number",ref:n}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{htmlFor:"amount_".concat(a),children:["Concentration (",x,"/",d,")"]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{onChange:function(e){return function(e,t){w(Object(o.a)(Object(o.a)({},_),{},Object(i.a)({},e,Object(o.a)(Object(o.a)({},_[e]),{},{amount:t}))))}(a,e.target.valueAsNumber)},defaultValue:u.amount||"",id:"amount_".concat(a),type:"number"}),Object(l.jsx)("br",{})]},a)}));return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"Recipe Calculator"}),Object(l.jsx)("label",{htmlFor:"volumeUnits",children:"Volume Units"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{onChange:function(e){return m(e.target.value)},defaultValue:d,id:"volumeUnits",type:"text"}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"massUnits",children:"Mass Units"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{onChange:function(e){return p(e.target.value)},defaultValue:x,id:"massUnits",type:"text"}),Object(l.jsx)("br",{}),Object(l.jsxs)("label",{htmlFor:"total",children:["Total Volume (",d,")"]}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{onChange:function(e){return s(e.target.valueAsNumber)},defaultValue:r||"",id:"total",type:"number"}),Object(l.jsx)("br",{}),Object(l.jsx)("h2",{children:"Liquids"}),Object(l.jsx)("h3",{children:"Liquids without amount specified will be used to fill remainder of total volume"}),Object(l.jsx)("button",{onClick:function(){N(C+1),U[C]={name:"",amount:NaN},y(U)},children:"Add"}),Object(l.jsx)("ul",{children:P}),Object(l.jsx)("h2",{children:"Solids"}),Object(l.jsx)("button",{onClick:function(){N(C+1),_[C]={name:"",displacement:NaN,amount:NaN},w(_)},children:"Add"}),Object(l.jsx)("ul",{children:I}),Object(l.jsx)("h2",{children:"Recipe"}),Object(l.jsx)("ul",{children:function(){var e=[],t=Object.values(U),n=Object.values(_);if(!Number.isFinite(r)||0===t.length||0===n.length)return e;var c=t.filter((function(e){return!Number.isFinite(e.amount)})),a=t.filter((function(e){return Number.isFinite(e.amount)})),u=n.map((function(e){return e.amount*r*e.displacement})).reduce((function(e,t){return e+t}),0),i=a.map((function(e){return e.amount/100*r})).reduce((function(e,t){return e+t}),0),o=r-(u+i),j=0;return c.forEach((function(t){return e.push(Object(l.jsxs)("li",{children:[t.name,": ",(o/c.length).toPrecision(4)," ",d]},j++))})),a.forEach((function(t){return e.push(Object(l.jsxs)("li",{children:[t.name,": ",(r*(t.amount/100)).toPrecision(4)," ",d]},j++))})),n.forEach((function(t){return e.push(Object(l.jsxs)("li",{children:[t.name,": ",(r*t.amount).toPrecision(4)," ",x]},j++))})),e}()})]})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,u=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),u(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(s,{})}),document.getElementById("root")),b()}},[[14,1,2]]]);
//# sourceMappingURL=main.c662c279.chunk.js.map